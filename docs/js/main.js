!function(){var e={176:function(){const e=document.querySelector(".end .button__end"),t=document.querySelector(".end .present"),s=document.querySelector(".end .present .close__button"),n=document.querySelector(".end .present .copy"),i=document.querySelector(".end .present .name");e.addEventListener("click",(()=>{document.querySelector("body").style.overflow="hidden",t.classList.remove("hidden")})),s.addEventListener("click",(()=>{document.querySelector("body").style.overflow="auto",t.classList.add("hidden")})),n.addEventListener("click",(()=>navigator.clipboard.writeText(i.textContent)))},973:function(){const e=document.querySelector(".button__container.button__container__mob"),t=()=>{if(window.screen.width>1300)return;const t=e.querySelector(".button");e.getBoundingClientRect().bottom>window.screen.height-20?t.classList.add("button__main__fixed"):t.classList.remove("button__main__fixed")};t(),window.addEventListener("scroll",t)},358:function(){let e=function(e){if(!e.url)return;e=Object.assign({},{w:650,h:570,name:""},e);let t=void 0!==window.screenLeft?window.screenLeft:screen.left,s=void 0!==window.screenTop?window.screenTop:screen.top,n=window.innerWidth?window.innerWidth:d.documentElement.clientWidth?d.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:d.documentElement.clientHeight?d.documentElement.clientHeight:screen.height,o=n/2-e.w/2+t,r=i/2-e.h/2+s,c=window.open(e.url,e.name,"scrollbars=yes, width="+e.w+", height="+e.h+", top="+r+", left="+o);window.focus&&c.focus()},t=function(t){let s=window.location.href,n=document.title;switch(t){case"vk":e({url:"//vk.com/share.php?url="+s+"&title="+n+"&description=Лосось Леонид помог мне узнать, насколько я себя люблю. Тебе тоже поможет — кликай и пройди короткий тест:",name:"vk"});break;case"fb":e({url:"//facebook.com/sharer.php?m2w&u="+s,name:"fb"});break;default:return!1}};document.querySelector(".end #vk").addEventListener("click",(()=>t("vk"))),document.querySelector(".end #fb").addEventListener("click",(()=>t("fb")))}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}!function(){"use strict";s(973);const e=[{text:"Когда вы в последний раз хорошенько отдохнули и восстановились? Какое событие вспомнили?",answers:[{text:"Это точно были последние выходные. А ещё мне удалось выспаться сегодня ночью",points:3},{text:"Вспомнился отпуск в прошлом году. Смотрите, вот я держу солнышко на ладошке!",points:2},{text:"В голове заиграло «звук-сверчка-неловкая-ситуация». Кажется, последний отдых у меня был в прошлой жизни",points:1}]},{text:"В конце рабочего дня начальник просит вас подготовить забавные тексты для валентинок компаниям-партнёрам. Дедлайн — следующее утро. Как поступите?",answers:[{text:"Займусь прямо сейчас. Дорогие коллеги, за нашу дружбу в интернете!",points:1},{text:"Откажусь — это не моя зона ответственности. Вообще-то я работаю аналитиком, а шутить предпочитаю в Твиттере.",points:3},{text:"Сначала спрошу, можно ли подвинуть дедлайн. Работать ночью я соглашусь только в самом крайнем случае",points:2}]},{text:"В субботу вы планировали обложиться роллами и посмотреть новые эпизоды любимого сериала. В пятницу пишет друг и предлагает уехать на выходные за город — фотографировать бобров. Как поступите?",answers:[{text:"За городом я не смогу отдохнуть и расслабиться. Да и бобров не очень люблю, так что откажусь",points:3},{text:"Подстроюсь под друга — сериалы никуда не денутся. Бобрам тоже надо дать шанс, может, сейчас они мне понравятся!",points:1},{text:"Завлеку друга к себе домой роллами, предложу посмотреть сериал вместе. Если откажется — едем к бобрам, но я возьму ноутбук с сериалом.",points:2}]},{text:"Вы научились мыть кота в ванной и решили поделиться своим опытом в Инстаграме. Кто-то пишет, что вы всё сделали неправильно. Говорит, хвост у кота не отвалился только чудом. Как отреагируете?",answers:[{text:"Посмеюсь и проигнорирую — я делаю всё по рекомендациям ветеринаров",points:3},{text:"Раз в интернете всегда кто-то неправ, этим человеком не могу быть я. Пойду доказывать свою точку зрения",points:2},{text:"Расстроюсь и начну сомневаться в себе. Ещё проверю хвост у кота — вдруг и правда отвалился?",points:1}]},{text:"Вы пришли в кино на модный боевик, которым в один голос восхищаются и кинокритики, и ваши друзья — редкое совпадение. Но вам совсем не нравится. К тому же вы очень хотите пить. Как поступите?",answers:[{text:"Неловко беспокоить людей, которые сидят в моём ряду. Воспользуюсь советом «Представь, что уже попил/попила» и сосредоточусь на фильме.",points:1},{text:"Сразу же пойду за водой, но пить буду нервно — что, если пропущу важную сцену, из-за которой все фильмом и восхищаются?",points:2},{text:"Раз мне скучно и хочется чего-то другого, уйду с фильма. И воды попью, и домой пораньше вернусь — одни плюсы!",points:3}]},{text:"Вы записались в поликлинику на прививку, но в день вакцинации перепутали время. На вас ворчит женщина из регистратуры и осуждающе смотрит вся очередь. Что почувствуете?",answers:[{text:"Ну, бывает. Спокойно посижу в очереди, может, ещё получится договориться с доктором и привиться сегодня",points:3},{text:"Захочу провалиться сквозь землю, но испугаюсь, что меня даже под землёй продолжат осуждать — туда ведь я тоже без записи.",points:1},{text:"Перед всеми извинюсь и постараюсь перенести запись на другой день. Очередь подождёт, это дело пяти минут.",points:2}]},{text:"После сложного дня вам хочется расслабиться и посмотреть лекцию про историю русского рэпа. Ваш партнёр вызвался приготовить ужин, но каждые пять минут отвлекает вопросами, как делать ризотто. Как будете реагировать?",answers:[{text:"Мягко объясню партнёру, что не хочу сейчас принимать никаких решений — даже если нужно выбрать специи к рису",points:3},{text:"Пойду готовить ужин вместе с ним, а потом вернусь к разбору текстов Моргенштерна",points:2},{text:"Буду ставить на паузу каждый раз, когда нужно ответить. «Да, рис в зелёной банке! Нет, карри не подойдёт! Да, я тоже тебя люблю!!!»",points:1}]},{text:"Вы возвращаетесь из отпуска, ваш рейс задержали на два часа. С учётом разницы во времени вы попадёте домой поздно и не сможете выспаться перед первым рабочим днём. В вас закипает злость, что сделаете с этим чувством?",answers:[{text:"Я имею право злиться. Запишу парочку гневных голосовых про ситуацию близкому другу и почувствую себя лучше",points:3},{text:"Попытаюсь замять это чувство и сфокусироваться на том, какой красивый закат был в последний день отдыха.",points:1},{text:"Всякое бывает, но всё равно бесит. До посадки меня будет раздражать любая мелочь.",points:2}]}],t={20:{text:"Кажется, вы часто думаете сначала о потребностях других людей, а потом уже — о своих. Лосось Леонид вас понимает — он тоже не сразу научился ставить себя на первое место. И он уверен, что у вас получится обозначить границы и искренне полюбить себя."},40:{text:"Не сомневаемся, что вы заслуживаете большего. Лосось Леонид уже направил волну чистой любви к себе в вашу сторону. Ещё он передаёт, что пара его друзей-осьминогов искренне вами восхищаются."},60:{text:"Неплохой результат, но лосось Леонид знает, что вы можете относиться к себе бережнее. Мы уверены, что со временем у вас получится полюбить себя чистой рыбьей любовью на все 100%."},80:{text:"Вы — рыба мечты лосося Леонида. У вас получается выбирать себя почти во всех ситуациях. Но даже если вам сложно кому-то сказать нет, помните: Леонид всегда на вашей стороне."},100:{text:"Лосось Леонид вами гордится, рассказывает о вас своим подругам-медузам и уже заказал ваш портрет в своё подводное царство. Ему даже есть чему у вас поучиться!"}},n=document.querySelector(".main-container"),i=document.querySelector(".end-block"),o=document.querySelector(".test-container"),r=document.querySelector("body"),c=o.querySelector(".test__number"),d=o.querySelector(".test__question"),a=o.querySelector(".test__answers"),u={questions:[],stage:"",points:0,test:0,setStageMain:function(){this.setBody("main"),this.stage="main",this.setHidden(o),this.setVisible(n)},setStageEnd:function(){this.calcPoints(),this.setBody("ends"),this.stage="end",this.setHidden(n),this.setHidden(o),this.setVisible(i)},setStageTest:function(){this.setBody("tests"),this.stage="test",this.setQuestions(),this.setTest(0),this.setPoints(0),this.setHidden(n),this.setVisible(o)},calcPoints:function(){switch(this.points=this.questions.reduce(((e,t)=>e+t.answers[t.answer].points),0),this.points){case 11:case 12:case 13:this.setPresent(40,20);break;case 14:case 15:case 16:case 17:this.setPresent(60,60);break;case 18:case 19:case 20:case 21:this.setPresent(80,60);break;case 22:case 23:case 24:this.setPresent(100,100);break;default:this.setPresent(20,20)}},setPresent:function(e,s){i.querySelector(".heart img").src=`img/heart${e}.svg`,i.querySelector(".heart source").srcset=`img/heart${e}.svg`,i.querySelector(".salmon picture:first-child img").src=`img/salmon${s}.png`,i.querySelector(".salmon  picture:first-child source").srcset=`img/salmon${s}.png`,i.querySelector(".salmon picture:last-child img").src=`img/salmon${s}-mob.png`,i.querySelector(".salmon  picture:last-child source").srcset=`img/salmon${s}-mob.png`;const n=t[e];i.querySelector(".present-container .header").innerHTML=`Вы лосось, влюблённый в себя на ${e}%`,i.querySelector(".present-container .description").innerHTML=n.text},setBody:function(e){r.classList.add(e),r.classList.remove(...((...e)=>["main","tests","end"].filter((t=>!e.includes(t))))(e))},setQuestions:function(){this.questions=e},setPoints:function(e){this.points=e},setTest:function(e){this.test=e,c.innerHTML=`Вопрос ${e+1} из ${this.questions.length}`,d.innerHTML=this.questions[e].text;let t="";this.questions[e].answers.forEach(((e,s)=>{t+=`\n        <div class="answer" id="answer${s}">\n          <div class="check"></div>\n          <div class="text">${e.text}</div>\n        </div>\n      `})),a.innerHTML=t,a.querySelectorAll(".answer").forEach(((e,t)=>e.addEventListener("click",(()=>this.selectAnswer(t)))))},setVisible:function(e){e.classList.remove("hidden")},setHidden:function(e){e.classList.add("hidden")},checkQuestion:function(){void 0!==this.questions[this.test].answer&&(this.test!==this.questions.length-1?this.setTest(++this.test):this.setStageEnd())},selectAnswer:function(e){this.questions[this.test].answer=e,a.querySelectorAll(".answer.selected").forEach((e=>e.classList.remove("selected"))),a.querySelector("#answer"+e).classList.add("selected")}},l=Object.create(u);l.setStageMain(),n.querySelectorAll(".button__main").forEach((e=>e.addEventListener("click",(()=>l.setStageTest())))),o.querySelector(".button__container").addEventListener("click",(()=>l.checkQuestion())),document.addEventListener("keypress",(e=>{13===e.keyCode&&("test"===l.stage?l.checkQuestion():"main"===l.stage&&l.setStageTest())})),s(176),s(358)}()}();